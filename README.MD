# OSCAR Server

OSCAR (Open System for Communication in Realtime) — это простой сервер для обработки сообщений между пользователями в реальном времени. Он позволяет отправлять и получать сообщения через сокеты, реализуя базовые функции для обмена сообщениями в сети.

## Описание

Этот сервер реализует следующее:

- Подключение и обработка клиентов.
- Обработка команд для отправки сообщений (`SEND`).
- Обработка команд для получения сообщений (`RECEIVE`).
- Хранение сообщений пользователей в памяти.

Сервер использует многопоточность для обработки нескольких клиентов одновременно и хранит сообщения в `ConcurrentHashMap` для обеспечения безопасного доступа из разных потоков.

## Установка

Для запуска OSCAR-сервера вам нужно иметь установленную **Java** (JDK 8 или выше).

### Шаги для запуска:

1. Склонируйте репозиторий на свой компьютер:

   ```bash
   git clone https://github.com/pie-with-jam/oscar-server.git
   cd oscar-server
   ```

2. Убедитесь, что у вас установлена **Java** (версия 21 и выше):

   ```bash
   java -version
   ```

3. Запустите сервер:

   Для запуска сервера просто выполните следующую команду:

   ```bash
   java -jar OscarServer.jar
   ```

   Сервер начнёт прослушивание порта `5190`, ожидая подключения клиентов.

## Использование

Сервер работает на порту 5190 и ожидает подключения клиентов. Клиенты могут взаимодействовать с сервером, отправляя команды через сокеты.

### Команды:

- **SEND**: Отправить сообщение от одного пользователя другому.

  Пример команды для отправки сообщения:
  ```
  SEND|senderId|recipientId|messageContent|timestamp
  ```

  Где:
    - `senderId` — Идентификатор отправителя.
    - `recipientId` — Идентификатор получателя.
    - `messageContent` — Содержимое сообщения.
    - `timestamp` — Время отправки сообщения.

  Пример команды для отправки:
  ```
  SEND|user1|user2|Hello from user1!|2024-12-25 12:00:00
  ```

- **RECEIVE**: Получить сообщения для определённого пользователя.

  Пример команды для получения сообщений:
  ```
  RECEIVE|user2
  ```

  Сервер вернёт все сообщения для пользователя `user2`.

### Пример работы сервера:

1. Клиент подключается и отправляет команду `SEND`, чтобы передать сообщение.
2. Сервер обрабатывает команду и сохраняет сообщение для получателя.
3. Клиент может запросить сообщения с помощью команды `RECEIVE`.

## Структура проекта

- `OscarServer.kt` — Основной файл с кодом сервера.
- `OscarMessage.kt` — Модель данных для сообщения.
- `README.md` — Этот файл.

## Технологии

- **Kotlin** — Язык программирования.
- **Java** — Для запуска проекта.
- **Socket programming** — Используется для сетевого взаимодействия.

## Лицензия

Этот проект распространяется под лицензией MIT. См. файл LICENSE.MD для подробной информации.

## Контакты

Автор: **AlertKaput**

Email: [sv86747@gmail.com](mailto:sv86747@gmail.com)